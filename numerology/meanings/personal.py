personal_meanings = {
    1: {
        "description": "Leader and pioneer, driven to create and innovate.",
        "advice": "Embrace responsibility and use your confidence wisely.",
        "master": False,
        "element": "Fire",
        "traits": ["Independent", "Ambitious", "Determined"],
        "strengths": ["Leadership", "Courage", "Initiative"],
        "weaknesses": ["Stubborn", "Impatient", "Arrogant"],
        "business": "Entrepreneurship, leadership roles, innovative projects.",
        "relationships": "You seek partners who respect your independence and support your ambitions.",
        "purpose": "To lead and inspire others with your vision and determination."
    },
    2: {
        "description": "Peacemaker and mediator, focused on harmony and relationships.",
        "advice": "Practice patience and listen carefully to others.",
        "master": False,
        "element": "Water",
        "traits": ["Diplomatic", "Sensitive", "Cooperative"],
        "strengths": ["Empathy", "Adaptability", "Supportiveness"],
        "weaknesses": ["Indecisive", "Overly sensitive", "Passive"],
        "business": "Mediation, counseling, partnership roles, customer service.",
        "relationships": "You thrive in harmonious relationships built on trust and understanding.",
        "purpose": "To bring peace and harmony to the world through cooperation and understanding."
    },
    3: {
        "description": "Creative communicator, joyful and expressive.",
        "advice": "Channel your creativity productively and avoid distractions.",
        "master": False,
        "element": "Air",
        "traits": ["Optimistic", "Sociable", "Artistic"],
        "strengths": ["Expressiveness", "Enthusiasm", "Imagination"],
        "weaknesses": ["Scattered", "Superficial", "Restless"],
        "business": "Arts, entertainment, writing, public speaking, marketing.",
        "relationships": "You seek partners who appreciate your creativity and bring joy and laughter into your life.",
        "purpose": "To inspire joy and creativity in the world through your unique self-expression."
    },
    4: {
        "description": "Hardworking and practical, building strong foundations.",
        "advice": "Stay disciplined and avoid rigidity or stubbornness.",
        "master": False,
        "element": "Earth",
        "traits": ["Reliable", "Organized", "Detail-oriented"],
        "strengths": ["Persistence", "Patience", "Practicality"],
        "weaknesses": ["Rigid", "Overly cautious", "Conventional"],
        "business": "Engineering, construction, accounting, project management.",
        "relationships": "You seek stable and reliable relationships built on trust and commitment.",
        "purpose": "To create lasting structures and systems that bring stability and order to the world."
    },
    5: {
        "description": "Adventurous and freedom-loving, seeking variety and change.",
        "advice": "Balance your need for freedom with responsibility.",
        "master": False,
        "element": "Air",
        "traits": ["Curious", "Energetic", "Flexible"],
        "strengths": ["Adaptability", "Charm", "Resourcefulness"],
        "weaknesses": ["Impulsive", "Restless", "Inconsistent"],
        "business": "Sales, travel, marketing, consulting, event planning.",
        "relationships": "You seek partners who share your adventurous spirit and embrace change and excitement.",
        "purpose": "To explore the world and inspire others to embrace change and freedom."
    },
    6: {
        "description": "Nurturing and responsible, focused on family and community.",
        "advice": "Avoid becoming overly protective or self-sacrificing.",
        "master": False,
        "element": "Earth",
        "traits": ["Caring", "Reliable", "Protective"],
        "strengths": ["Compassion", "Loyalty", "Supportiveness"],
        "weaknesses": ["Overbearing", "Worrying", "Martyrdom"],
        "business": "Teaching, nursing, social work, caregiving, human resources.",
        "relationships": "You seek loving and supportive relationships built on trust and commitment.",
        "purpose": "To heal and support others, creating harmony and balance in your community."
    },
    7: {
        "description": "Spiritual and analytical thinker, seeker of truth.",
        "advice": "Balance solitude with social connection.",
        "master": False,
        "element": "Water",
        "traits": ["Intuitive", "Philosophical", "Introspective"],
        "strengths": ["Wisdom", "Research skills", "Perseverance"],
        "weaknesses": ["Isolated", "Skeptical", "Aloof"],
        "business": "Research, science, writing, philosophy, spirituality, IT.",
        "relationships": "You seek partners who respect your need for solitude and support your intellectual pursuits.",
        "purpose": "To uncover hidden truths and bring spiritual or intellectual insights to the world."
    },
    8: {
        "description": "Powerful and material-focused, skilled at manifesting success.",
        "advice": "Use your power ethically and avoid greed.",
        "master": False,
        "element": "Earth",
        "traits": ["Ambitious", "Organized", "Efficient"],
        "strengths": ["Leadership", "Financial acumen", "Determination"],
        "weaknesses": ["Domineering", "Materialistic", "Impatient"],
        "business": "Business management, finance, law, real estate, entrepreneurship.",
        "relationships": "You seek partners who are strong and supportive and share your ambition and drive.",
        "purpose": "To achieve material success and use your power to create a positive impact on the world."
    },
    9: {
        "description": "Compassionate and humanitarian, driven by ideals.",
        "advice": "Stay grounded and avoid becoming overly idealistic.",
        "master": False,
        "element": "Fire",
        "traits": ["Generous", "Idealistic", "Creative"],
        "strengths": ["Empathy", "Charisma", "Vision"],
        "weaknesses": ["Overly emotional", "Naive", "Impatient"],
        "business": "Charity work, social activism, arts, healing, teaching.",
        "relationships": "You seek partners who share your compassion and are committed to making the world a better place.",
        "purpose": "To uplift humanity and contribute to a better world through selfless service and compassion."
    },
    10: {
        "description": "Placeholder description for Personal Number 10",
        "advice": "Placeholder advice for Personal Number 10",
        "master": False,
        "element": "Placeholder element for Personal Number 10",
        "traits": ["Placeholder trait"],
        "strengths": ["Placeholder strength"],
        "weaknesses": ["Placeholder weakness"],
        "business": "Placeholder business",
        "relationships": "Placeholder relationship",
        "purpose": "Placeholder purpose"
    },
    11: {
        "description": "Master visionary, highly intuitive and inspirational.",
        "advice": "Balance your spiritual insights with practical action.",
        "master": True,
        "element": "Air",
        "traits": ["Insightful", "Inspiring", "Sensitive"],
        "strengths": ["Leadership", "Creativity", "Empathy"],
        "weaknesses": ["Anxious", "Tense", "Overwhelmed"],
        "business": "Spiritual guidance, teaching, arts, counseling, writing.",
        "relationships": "You seek partners who are spiritually aware and appreciate your sensitivity.",
        "purpose": "To enlighten and inspire others with your spiritual insights."
    },
    22: {
        "description": "Master builder, practical visionary with great ambition.",
        "advice": "Ground your dreams in reality and avoid perfectionism.",
        "master": True,
        "element": "Earth",
        "traits": ["Disciplined", "Powerful", "Organized"],
        "strengths": ["Vision", "Determination", "Leadership"],
        "weaknesses": ["Overbearing", "Inflexible", "Workaholic"],
        "business": "Architecture, engineering, global business, leadership, large-scale projects.",
        "relationships": "You seek partners who are strong, supportive, and share your vision.",
        "purpose": "To build lasting structures and systems that benefit humanity."
    },
    33: {
        "description": "Master teacher, focused on love, compassion, and healing.",
        "advice": "Channel your energy toward uplifting others.",
        "master": True,
        "element": "Water",
        "traits": ["Compassionate", "Selfless", "Inspirational"],
        "strengths": ["Healing", "Creativity", "Empathy"],
        "weaknesses": ["Overwhelmed", "Martyrdom", "Self-sacrificing"],
        "business": "Healing arts, teaching, counseling, social work, spiritual guidance.",
        "relationships": "You seek partners who are compassionate and share your commitment to serving others.",
        "purpose": "To heal and uplift humanity through selfless service and unconditional love."
    },
}

def get_personal_analysis(number: int) -> dict:
    """Return the personal meaning for a given number (1-33, considering master numbers)."""
    print(f"DEBUG: get_personal_analysis - number: {number}")  # Debugging
    meaning = personal_meanings.get(number)

    if not meaning:
        print(f"DEBUG: get_personal_analysis - No meaning found for number: {number}")  # Debugging
        return {
            "summary": "Invalid Personal number.",
            "advice": "Please enter a valid Personal number (1-33, including master numbers 11, 22, 33).",
            "master": False,
            "traits": [],
            "strengths": [],
            "weaknesses": [],
            "business": None,
            "relationships": None,
            "purpose": None
        }

    return {
        "summary": f"Personal Number {number} - {meaning['description']}",
        "advice": meaning['advice'],
        "master": meaning['master'],
        "traits": meaning['traits'],
        "strengths": meaning['strengths'],
        "weaknesses": meaning['weaknesses'],
        "business": meaning['business'],
        "relationships": meaning['relationships'],
        "purpose": meaning['purpose'],
    }

def get_personal_report_string(number: int) -> str:
    """Generates and returns a formatted string report for a given Personal number."""
    print(f"DEBUG: get_personal_report_string - number: {number}")  # Debugging
    analysis = get_personal_analysis(number)
    print(f"DEBUG: get_personal_report_string - analysis: {analysis}")  # Debugging

    report_string = "=" * 60 + "\n"
    report_string += f"🌱 Personal Number {number} Report 🌱\n"
    report_string += "=" * 60 + "\n"
    report_string += f"🧾 Summary: {analysis['summary']}\n"
    report_string += f"💡 Advice: {analysis['advice']}\n"
    report_string += f"🌟 Master Number: {'Yes' if analysis['master'] else 'No'}\n"
    report_string += "\n🔑 Core Traits: " + ', '.join(analysis['traits']) + "\n"
    report_string += "✅ Strengths: " + ', '.join(analysis['strengths']) + "\n"
    report_string += "⚠️ Weaknesses: " + ', '.join(analysis['weaknesses']) + "\n"
    report_string += "\n💼 Business Outlook:\n"
    report_string += f" - {analysis['business']}\n"
    report_string += "\n❤️ Relationships:\n"
    report_string += f" - {analysis['relationships']}\n"
    report_string += "\n🎯 Life Purpose:\n"
    report_string += f" - {analysis['purpose']}\n"
    report_string += "=" * 60 + "\n"

    return report_string