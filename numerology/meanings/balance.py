
balance_meanings = {
    1: {
        "description": "Balance number 1 encourages independence and leadership, helping you overcome self-doubt and indecision.",
        "advice": "Trust your instincts and take initiative confidently.",
        "master": False,
        "traits": ["Independent", "Ambitious", "Decisive"],
        "strengths": ["Leadership", "Courage", "Self-reliance"],
        "weaknesses": ["Stubbornness", "Impatience", "Arrogance"],
        "business": "You excel in roles where you can take charge and innovate. Entrepreneurship or leadership positions suit you well.",
        "relationships": "You seek partners who respect your independence and support your ambitions.",
        "purpose": "To lead and inspire others with your vision and determination.",
        "vibration": "Masculine, assertive, pioneering",
        "color": "Red"
    },
    2: {
        "description": "Balance number 2 promotes harmony and diplomacy, helping you develop patience and cooperation.",
        "advice": "Be gentle in your interactions and seek balance in relationships.",
        "master": False,
        "traits": ["Diplomatic", "Sensitive", "Supportive"],
        "strengths": ["Cooperation", "Empathy", "Patience"],
        "weaknesses": ["Over-sensitivity", "Indecisiveness", "Avoidance"],
        "business": "You thrive in collaborative environments where you can mediate and support others. Counseling or partnership roles are ideal.",
        "relationships": "You seek harmonious and supportive relationships built on trust and understanding.",
        "purpose": "To bring peace and harmony to the world through cooperation and understanding.",
        "vibration": "Feminine, nurturing, peaceful",
        "color": "Orange"
    },
    3: {
        "description": "Balance number 3 inspires joyful self-expression and creativity, encouraging optimism.",
        "advice": "Express your ideas freely and nurture your creative talents.",
        "master": False,
        "traits": ["Creative", "Optimistic", "Social"],
        "strengths": ["Communication", "Joyfulness", "Imagination"],
        "weaknesses": ["Scattered energy", "Superficiality", "Impatience"],
        "business": "You shine in creative fields where you can express yourself and inspire others. Arts, media, or entertainment are great choices.",
        "relationships": "You seek partners who appreciate your creativity and bring joy and laughter into your life.",
        "purpose": "To inspire joy and creativity in the world through your unique self-expression.",
        "vibration": "Expressive, cheerful, inspiring",
        "color": "Yellow"
    },
    4: {
        "description": "Balance number 4 brings structure and discipline, fostering responsibility and perseverance.",
        "advice": "Build strong foundations and maintain steady progress.",
        "master": False,
        "traits": ["Organized", "Reliable", "Practical"],
        "strengths": ["Discipline", "Hard work", "Patience"],
        "weaknesses": ["Rigidity", "Pessimism", "Over-cautiousness"],
        "business": "You excel in structured environments where you can build and maintain systems. Engineering, construction, or management are suitable.",
        "relationships": "You seek stable and reliable relationships built on trust and commitment.",
        "purpose": "To create lasting structures and systems that bring stability and order to the world.",
        "vibration": "Grounded, stable, secure",
        "color": "Green"
    },
    5: {
        "description": "Balance number 5 encourages adaptability and freedom, helping overcome fear of change.",
        "advice": "Embrace new experiences with enthusiasm and balance freedom with responsibility.",
        "master": False,
        "traits": ["Adventurous", "Flexible", "Curious"],
        "strengths": ["Versatility", "Energy", "Open-mindedness"],
        "weaknesses": ["Restlessness", "Impulsiveness", "Inconsistency"],
        "business": "You thrive in dynamic environments where you can explore new opportunities. Sales, travel, or consulting are good options.",
        "relationships": "You seek partners who share your adventurous spirit and embrace change and excitement.",
        "purpose": "To explore the world and inspire others to embrace change and freedom.",
        "vibration": "Dynamic, energetic, free-spirited",
        "color": "Blue"
    },
    6: {
        "description": "Balance number 6 nurtures compassion and responsibility, focusing on home and community.",
        "advice": "Care for yourself and others with balance and love.",
        "master": False,
        "traits": ["Caring", "Responsible", "Protective"],
        "strengths": ["Nurturing", "Harmony", "Reliability"],
        "weaknesses": ["Overprotectiveness", "Worry", "Martyrdom"],
        "business": "You excel in roles where you can care for and support others. Teaching, nursing, or social work are ideal.",
        "relationships": "You seek loving and supportive relationships built on trust and commitment.",
        "purpose": "To heal and support others, creating harmony and balance in your community.",
        "vibration": "Loving, harmonious, protective",
        "color": "Indigo"
    },
    7: {
        "description": "Balance number 7 supports introspection and spiritual growth, encouraging deep thinking.",
        "advice": "Take time for solitude and pursue knowledge to find inner peace.",
        "master": False,
        "traits": ["Analytical", "Introspective", "Wise"],
        "strengths": ["Insight", "Intuition", "Spiritual awareness"],
        "weaknesses": ["Isolation", "Skepticism", "Secretiveness"],
        "business": "You thrive in roles where you can research, analyze, and explore deeper truths. Science, philosophy, or spirituality are good choices.",
        "relationships": "You seek partners who respect your need for solitude and support your intellectual pursuits.",
        "purpose": "To uncover hidden truths and bring spiritual or intellectual insights to the world.",
        "vibration": "Mystical, intellectual, introspective",
        "color": "Violet"
    },
    8: {
        "description": "Balance number 8 focuses on power and material success, teaching balanced use of authority.",
        "advice": "Lead with integrity and balance ambition with compassion.",
        "master": False,
        "traits": ["Ambitious", "Practical", "Efficient"],
        "strengths": ["Leadership", "Organization", "Determination"],
        "weaknesses": ["Domineering", "Greed", "Workaholism"],
        "business": "You excel in leadership roles where you can manage resources and achieve success. Business, finance, or law are suitable.",
        "relationships": "You seek partners who are strong and supportive and share your ambition and drive.",
        "purpose": "To achieve material success and use your power to create a positive impact on the world.",
        "vibration": "Authoritative, determined, goal-oriented",
        "color": "Black"
    },
    9: {
        "description": "Balance number 9 inspires compassion and humanitarianism, encouraging forgiveness and idealism.",
        "advice": "Practice empathy and let go of past grievances.",
        "master": False,
        "traits": ["Compassionate", "Generous", "Idealistic"],
        "strengths": ["Tolerance", "Creativity", "Vision"],
        "weaknesses": ["Overly sensitive", "Naivety", "Impatience"],
        "business": "You thrive in roles where you can serve others and make a positive impact. Charity work, social activism, or the arts are good choices.",
        "relationships": "You seek partners who share your compassion and are committed to making the world a better place.",
        "purpose": "To uplift humanity and contribute to a better world through selfless service and compassion.",
        "vibration": "Universal, empathetic, forgiving",
        "color": "White"
    },
    11: {
        "description": "Master number 11 balances spiritual insight with practicality, offering visionary leadership.",
        "advice": "Use your intuition wisely while staying grounded.",
        "master": True,
        "traits": ["Intuitive", "Inspirational", "Sensitive"],
        "strengths": ["Vision", "Creativity", "Empathy"],
        "weaknesses": ["Anxiety", "Overwhelm", "Emotional tension"],
        "business": "You excel in roles where you can inspire and guide others with your vision. Teaching, counseling, or spiritual leadership are ideal.",
        "relationships": "You seek partners who are spiritually aware and support your visionary pursuits.",
        "purpose": "To inspire and enlighten others with your spiritual insights and visionary leadership.",
        "vibration": "Illuminating, visionary, idealistic",
        "color": "Silver"
    },
    22: {
        "description": "Master number 22 balances big-picture vision with detail-oriented execution.",
        "advice": "Manifest your dreams through practical action and discipline.",
        "master": True,
        "traits": ["Powerful", "Pragmatic", "Organized"],
        "strengths": ["Leadership", "Vision", "Determination"],
        "weaknesses": ["Perfectionism", "Workaholism", "Stubbornness"],
        "business": "You thrive in roles where you can build and manage large-scale projects. Architecture, engineering, or global business are suitable.",
        "relationships": "You seek partners who are strong and supportive and share your vision and ambition.",
        "purpose": "To manifest your dreams into reality and create lasting structures that benefit humanity.",
        "vibration": "Master builder, visionary, powerhouse",
        "color": "Gold"
    },
    33: {
        "description": "Master number 33 balances spiritual service with personal responsibility.",
        "advice": "Serve others selflessly while maintaining your own well-being.",
        "master": True,
        "traits": ["Compassionate", "Selfless", "Inspirational"],
        "strengths": ["Healing", "Teaching", "Empathy"],
        "weaknesses": ["Self-sacrifice", "Overwhelmed", "Martyrdom"],
        "business": "You excel in roles where you can heal, teach, and uplift others. Counseling, social work, or spiritual guidance are ideal.",
        "relationships": "You seek partners who are compassionate and share your commitment to serving others.",
        "purpose": "To heal and uplift humanity through selfless service and unconditional love.",
        "vibration": "Divine teacher, healer, altruistic",
        "color": "Rose Pink"
    }
}

def get_balance_analysis(number: int) -> dict:
    """Return the balance number meaning, advice, traits, etc."""
    meaning = balance_meanings.get(number)
    if not meaning:
        return {
            "summary": f"Balance Number {number} - Meaning not found.",
            "advice": "Please enter a valid Balance number (1-9 or master numbers 11, 22, 33).",
            "master": False,
            "traits": [],
            "strengths": [],
            "weaknesses": [],
            "business": "N/A",
            "relationships": "N/A",
            "purpose": "N/A",
            "vibration": "N/A",
            "color": "N/A"
        }
    
    # Use .get() for dictionary access to avoid KeyErrors if a key is missing for some numbers
    return {
        "summary": f"Balance Number {number} - {meaning.get('description', 'No description available.')}",
        "advice": meaning.get('advice', 'No advice available.'),
        "master": meaning.get('master', False),
        "traits": meaning.get('traits', []),
        "strengths": meaning.get('strengths', []),
        "weaknesses": meaning.get('weaknesses', []),
        "business": meaning.get('business', 'N/A'),
        "relationships": meaning.get('relationships', 'N/A'),
        "purpose": meaning.get('purpose', 'N/A'),
        "vibration": meaning.get('vibration', 'N/A'),
        "color": meaning.get('color', 'N/A')
    }

def get_balance_report_string(number: int) -> str:
    """Generates and returns a formatted string report for a given Balance number."""
    analysis = get_balance_analysis(number)

    report_string = "=" * 60 + "\n"
    report_string += f"⚖️ Balance Number {number} Report ⚖️\n"
    report_string += "=" * 60 + "\n"
    report_string += f"🧾 Summary: {analysis.get('summary', 'N/A')}\n"
    report_string += f"💡 Advice: {analysis.get('advice', 'N/A')}\n"
    report_string += f"✨ Master Number: {'Yes' if analysis.get('master') else 'No'}\n"

    if analysis.get('traits'):
        report_string += "\n🔑 Core Traits: " + ', '.join(analysis['traits']) + "\n"
    if analysis.get('strengths'):
        report_string += "✅ Strengths: " + ', '.join(analysis['strengths']) + "\n"
    if analysis.get('weaknesses'):
        report_string += "⚠️ Weaknesses: " + ', '.join(analysis['weaknesses']) + "\n"

    report_string += f"\n💼 Business Outlook:\n - {analysis.get('business', 'N/A')}\n"
    report_string += f"\n❤️ Relationships:\n - {analysis.get('relationships', 'N/A')}\n"
    report_string += f"\n🎯 Life Purpose:\n - {analysis.get('purpose', 'N/A')}\n"
    
    if analysis.get('color'):
        report_string += f"\n🎨 Color Vibration: {analysis['color']}\n"
    if analysis.get('vibration'):
        report_string += f"🔊 Energy Vibration: {analysis['vibration']}\n"
        
    report_string += "=" * 60 + "\n"
    return report_string

# Example usage:
if __name__ == "__main__":
    print(get_balance_report_string(5))
    print(get_balance_report_string(11)) # Test with a master number
    print(get_balance_report_string(99)) # Test with an invalid number
