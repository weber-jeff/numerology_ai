expression_meanings = {
    1: {
        "description": "You are a natural leader with strong ambition and a pioneering spirit.",
        "advice": "Focus your energy to avoid impatience and stubbornness.",
        "master": False,
        "element": "Fire",
        "traits": ["Independent", "Determined", "Innovative"],
        "strengths": ["Confident", "Courageous", "Ambitious"],
        "weaknesses": ["Impatient", "Domineering", "Self-centered"],
        "business": "Entrepreneurship, leadership roles, starting new ventures.",
        "relationships": "You seek partners who respect your independence and support your ambitions.",
        "purpose": "To lead and inspire others with your vision and determination.",
        "color": "Red",
        "vibration": "Strong, assertive, and energizing"
    },
    2: {
        "description": "You are cooperative, sensitive, and a great peacemaker.",
        "advice": "Learn to assert yourself and avoid being overly passive.",
        "master": False,
        "element": "Water",
        "traits": ["Diplomatic", "Tactful", "Supportive"],
        "strengths": ["Patient", "Empathetic", "Loyal"],
        "weaknesses": ["Indecisive", "Overly Sensitive", "Avoids Conflict"],
        "business": "Mediation, counseling, partnership roles, customer service.",
        "relationships": "You thrive in harmonious relationships built on trust and understanding.",
        "purpose": "To bring peace and harmony to the world through cooperation and understanding.",
        "color": "Orange",
        "vibration": "Calming, sensitive, and harmonizing"
    },
    3: {
        "description": "Creative and expressive, you bring joy and enthusiasm to life.",
        "advice": "Channel your energy into focused creative pursuits.",
        "master": False,
        "element": "Air",
        "traits": ["Artistic", "Optimistic", "Sociable"],
        "strengths": ["Charismatic", "Imaginative", "Energetic"],
        "weaknesses": ["Scattered", "Restless", "Superficial"],
        "business": "Arts, entertainment, writing, public speaking, marketing.",
        "relationships": "You seek partners who appreciate your creativity and bring joy and laughter into your life.",
        "purpose": "To inspire joy and creativity in the world through your unique self-expression.",
        "color": "Yellow",
        "vibration": "Bright, joyful, and expressive"
    },
    4: {
        "description": "Hardworking and practical, you excel in organization and detail.",
        "advice": "Be open to new ideas and avoid rigidity.",
        "master": False,
        "element": "Earth",
        "traits": ["Reliable", "Disciplined", "Methodical"],
        "strengths": ["Dependable", "Patient", "Systematic"],
        "weaknesses": ["Stubborn", "Overcautious", "Rigid"],
        "business": "Engineering, construction, accounting, project management.",
        "relationships": "You seek stable and reliable relationships built on trust and commitment.",
        "purpose": "To create lasting structures and systems that bring stability and order to the world.",
        "color": "Green",
        "vibration": "Grounded, stable, and dependable"
    },
    5: {
        "description": "Adventurous and dynamic, you thrive on change and freedom.",
        "advice": "Practice patience and responsibility to balance your impulsiveness.",
        "master": False,
        "element": "Air",
        "traits": ["Energetic", "Curious", "Adaptable"],
        "strengths": ["Versatile", "Innovative", "Lively"],
        "weaknesses": ["Impulsive", "Restless", "Inconsistent"],
        "business": "Sales, travel, marketing, consulting, event planning.",
        "relationships": "You seek partners who share your adventurous spirit and embrace change and excitement.",
        "purpose": "To explore the world and inspire others to embrace change and freedom.",
        "color": "Turquoise",
        "vibration": "Energetic, adventurous, and stimulating"
    },
    6: {
        "description": "Nurturing and responsible, you are deeply connected to family and community.",
        "advice": "Balance care for others with your own needs.",
        "master": False,
        "element": "Earth",
        "traits": ["Caring", "Protective", "Loyal"],
        "strengths": ["Compassionate", "Reliable", "Supportive"],
        "weaknesses": ["Overprotective", "Self-sacrificing", "Controlling"],
        "business": "Teaching, nursing, social work, caregiving, human resources.",
        "relationships": "You seek loving and supportive relationships built on trust and commitment.",
        "purpose": "To heal and support others, creating harmony and balance in your community.",
        "color": "Blue",
        "vibration": "Calm, nurturing, and supportive"
    },
    7: {
        "description": "Intellectual and introspective, you seek truth and knowledge.",
        "advice": "Engage more with others and express your thoughts openly.",
        "master": False,
        "element": "Water",
        "traits": ["Analytical", "Spiritual", "Thoughtful"],
        "strengths": ["Insightful", "Intuitive", "Wise"],
        "weaknesses": ["Reserved", "Skeptical", "Isolated"],
        "business": "Research, science, writing, philosophy, spirituality, IT.",
        "relationships": "You seek partners who respect your need for solitude and support your intellectual pursuits.",
        "purpose": "To uncover hidden truths and bring spiritual or intellectual insights to the world.",
        "color": "Violet",
        "vibration": "Mystical, introspective, and wise"
    },
    8: {
        "description": "Ambitious and authoritative, you strive for success and power.",
        "advice": "Use your influence wisely and ethically.",
        "master": False,
        "element": "Earth",
        "traits": ["Confident", "Practical", "Goal-oriented"],
        "strengths": ["Efficient", "Organized", "Strong-willed"],
        "weaknesses": ["Materialistic", "Domineering", "Workaholic"],
        "business": "Business management, finance, law, real estate, entrepreneurship.",
        "relationships": "You seek partners who are strong and supportive and share your ambition and drive.",
        "purpose": "To achieve material success and use your power to create a positive impact on the world.",
        "color": "Brown",
        "vibration": "Powerful, grounded, and resourceful"
    },
    9: {
        "description": "Compassionate and generous, you are a humanitarian at heart.",
        "advice": "Practice detachment and avoid over-involvement.",
        "master": False,
        "element": "Fire",
        "traits": ["Idealistic", "Creative", "Empathetic"],
        "strengths": ["Altruistic", "Inspirational", "Charismatic"],
        "weaknesses": ["Impatient", "Overemotional", "Unrealistic"],
        "business": "Charity work, social activism, arts, healing, teaching.",
        "relationships": "You seek partners who share your compassion and are committed to making the world a better place.",
        "purpose": "To uplift humanity and contribute to a better world through selfless service and compassion.",
        "color": "Gold",
        "vibration": "Warm, generous, and uplifting"
    },
    11: {
        "description": "Highly intuitive and visionary, you have a strong spiritual connection.",
        "advice": "Ground your visions in practical action and manage stress.",
        "master": True,
        "element": "Air",
        "traits": ["Inspiring", "Intuitive", "Enlightened"],
        "strengths": ["Charismatic", "Innovative", "Sensitive"],
        "weaknesses": ["Nervous", "Overwhelmed", "Anxious"],
        "business": "Spiritual guidance, teaching, arts, counseling, writing.",
        "relationships": "You seek partners who are spiritually aware and appreciate your sensitivity.",
        "purpose": "To enlighten and inspire others with your spiritual insights.",
        "color": "Silver",
        "vibration": "Elevated, visionary, and spiritual"
    },
    22: {
        "description": "Master builder with the ability to turn dreams into reality.",
        "advice": "Focus on your goals and use your power to benefit others.",
        "master": True,
        "element": "Earth",
        "traits": ["Practical", "Disciplined", "Visionary"],
        "strengths": ["Organized", "Reliable", "Strong leadership"],
        "weaknesses": ["Perfectionist", "Stubborn", "Workaholic"],
        "business": "Architecture, engineering, global business, leadership, large-scale projects.",
        "relationships": "You seek partners who are strong, supportive, and share your vision.",
        "purpose": "To build lasting structures and systems that benefit humanity.",
        "color": "Steel Blue",
        "vibration": "Strong, steady, and transformative"
    },
    33: {
        "description": "Master teacher who embodies unconditional love and compassion.",
        "advice": "Balance your desire to help others with self-care.",
        "master": True,
        "element": "Water",
        "traits": ["Compassionate", "Selfless", "Creative"],
        "strengths": ["Inspirational", "Devoted", "Nurturing"],
        "weaknesses": ["Overly self-sacrificing", "Idealistic", "Sensitive"],
        "business": "Healing arts, teaching, counseling, social work, spiritual guidance.",
        "relationships": "You seek partners who are compassionate and share your commitment to serving others.",
        "purpose": "To heal and uplift humanity through selfless service and unconditional love.",
        "color": "Pearl White",
        "vibration": "Pure, loving, and nurturing"
    }
}

# Assuming you have expression_meanings dict like birthday_meanings

def get_expression_analysis(number: int) -> dict:
    """
    Return the meaning, advice, and traits for a given Expression number.
    Accepts master numbers (11, 22, 33).
    """
    meaning = expression_meanings.get(number)
    if not meaning:
        return {
            "summary": "Expression number not found.",
            "advice": "Valid Expression numbers are 1-9 and master numbers 11, 22, 33.",
            "master": False,
            "element": None,
            "traits": [],
            "strengths": [],
            "weaknesses": [],
            "business": None,
            "relationships": None,
            "purpose": None
        }

    return {
        "summary": meaning['description'],
        "advice": meaning['advice'],
        "master": meaning.get('master', False),
        "element": meaning.get('element'),
        "traits": meaning.get('traits', []),
        "strengths": meaning.get('strengths', []),
        "weaknesses": meaning.get('weaknesses', []),
        "business": meaning.get('business'),
        "relationships": meaning.get('relationships'),
        "purpose": meaning.get('purpose'),
    }


def get_expression_report_string(analysis: dict) -> str:
    """Generates a formatted string report for a given Expression number, with colors and vibey icons."""
    # ANSI color codes for some vibe
    CYAN = '\033[96m'
    YELLOW = '\033[93m'
    GREEN = '\033[92m'
    RED = '\033[91m'
    RESET = '\033[0m'
    BOLD = '\033[1m'

    report = f"{CYAN}{'='*60}{RESET}\n"
    report += f"{BOLD}🎭 Expression Number Report 🎭{RESET}\n"
    report += f"{CYAN}{'='*60}{RESET}\n"
    report += f"🧾 {BOLD}Summary:{RESET} {analysis['summary']}\n"
    report += f"💡 {BOLD}Advice:{RESET} {analysis['advice']}\n"
    report += f"✨ {BOLD}Master Number:{RESET} {'Yes' if analysis['master'] else 'No'}\n"
    report += f"🌿 {BOLD}Element:{RESET} {analysis['element'] if analysis['element'] else 'Unknown'}\n"
    report += f"\n🔑 {BOLD}Core Traits:{RESET} {', '.join(analysis['traits'])}\n"
    report += f"✅ {BOLD}Strengths:{RESET} {', '.join(analysis['strengths'])}\n"
    report += f"⚠️ {BOLD}Weaknesses:{RESET} {', '.join(analysis['weaknesses'])}\n"
    report += f"\n💼 {BOLD}Business Outlook:{RESET}\n - {analysis['business']}\n"
    report += f"\n❤️ {BOLD}Relationships:{RESET}\n - {analysis['relationships']}\n"
    report += f"\n🎯 {BOLD}Life Purpose:{RESET}\n - {analysis['purpose']}\n"
    report += f"{CYAN}{'='*60}{RESET}\n"
    return report


# Example usage block:
if __name__ == "__main__":
    expression_number = 11  # Example with master number 11
    analysis = get_expression_analysis(expression_number)
    report = get_expression_report_string(analysis)
    print(report)
